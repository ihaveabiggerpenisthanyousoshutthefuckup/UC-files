<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>8.1.3.2 Establish Neighbor Adjacencies</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_8.1.3.2_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>Establish Neighbor Adjacencies</h1>
        <div>
          <p>When OSPF is enabled on an interface, the router must determine if there is another OSPF neighbor on the link. To accomplish this, the router forwards a Hello packet that contains its router ID out all OSPF-enabled interfaces. The OSPF router ID is used by the OSPF process to uniquely identify each router in the OSPF area. A router ID is a 32-bit number formatted like an IP address and assigned to uniquely identify a router among OSPF peers.</p>
          <p></p>
          <p>When a neighboring OSPF-enabled router receives a Hello packet with a router ID that is not within its neighbor list, the receiving router attempts to establish an adjacency with the initiating router. </p>
          <p></p>
          <p>Refer to R1 in Figure 1. When OSPFv2 is enabled, the enabled Gigabit Ethernet 0/0 interface transitions from the Down state to the Init state. R1 starts sending Hello packets out all OSPF-enabled interfaces to discover OSPF neighbors to develop adjacencies with. </p>
          <p></p>
          <p>In Figure 2, R2 receives the Hello packet from R1 and adds the R1 router ID to its neighbor list. R2 then sends a Hello packet to R1. The packet contains the R2 Router ID and the R1 Router ID in its list of neighbors on the same interface.</p>
          <p></p>
          <p>In Figure 3, R1 receives the Hello and adds the R2 Router ID in its list of OSPF neighbors. It also notices its own Router ID in the Hello packetâ€™s list of neighbors. When a router receives a Hello packet with its Router ID listed in the list of neighbors, the router transitions from the Init state to the Two-Way state. </p>
          <p></p>
          <p>The action performed in Two-Way state depends on the type of inter-connection between the adjacent routers:</p>
          <p>
            <ul>
              <li>If the two adjacent neighbors are interconnected over a point-to-point link, then they immediately transition from the Two-Way state to the database synchronization phase.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>If the routers are interconnected over a common Ethernet network, then a designated router DR and a BDR must be elected.</li>
            </ul>
          </p>
          <p></p>
          <p>Because R1 and R2 are interconnected over an Ethernet network, a DR and BDR election takes place. As shown in Figure 4, R2 becomes the DR and R1 is the BDR. This process only occurs on multi-access networks such as Ethernet LANs.</p>
          <p></p>
          <p>Hello packets are continually exchanged to maintain router information.</p>
          <p></p>
        </div>
      </div>
      <div id="text-handle" title="Resize" role="button"></div>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">Figure one shows two routers connected through a gigabit Ethernet link.  The gigabit Ethernet interface on router R-1 is 172 dot 16 dot 5 dot 1 slash 24 and the gigabit Ethernet interface on router R-2 is 172 dot 16 dot 5 dot 2. The figure shows R-1 starting in the down state and then moving to the init state.  In this state the O.S.P.F. router sends out Hello packets to the multicast address of 224 dot zero dot zero dot 5.Figure two shows R-2 receiving the Hello packet and returning a unicast Hello packet containing its router I.D. and list of neighboring routers. Figure three shows R-1 receiving the Hello packet from R-2 and moving to the two way state. Figure four shows the two routers agreeing on the second router becoming the designated router and the first router becoming the backup designated router based on the router I.D.s.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
