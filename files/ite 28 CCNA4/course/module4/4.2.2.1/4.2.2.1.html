<!DOCTYPE html>
<html class="loading" dir="ltr" lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>4.2.2.1 Configuring Extended ACLs</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_4.2.2.1_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="text-container" role="main">
      <div id="text">
        <h1>Configuring Extended ACLs</h1>
        <div>
          <p>The procedural steps for configuring extended ACLs are the same as for standard ACLs. The extended ACL is first configured, and then it is activated on an interface. However, the command syntax and parameters are more complex to support the additional features provided by extended ACLs. </p>
          <p></p>
          <p>
            <b>Note</b>: The internal logic applied to the ordering of standard ACL statements does not apply to extended ACLs. The order in which the statements are entered during configuration is the order they are displayed and processed.</p>
          <p></p>
          <p>Figure 1 shows the common command syntax for extended IPv4 ACLs. Note that there are many keywords and parameters for extended ACLs. It is not necessary to use all of the keywords and parameters when configuring an extended ACL. Recall that the <b>?</b> can be used to get help when entering complex commands. </p>
          <p></p>
          <p>Figure 2 shows an example of an extended ACL. In this example, the network administrator has configured ACLs to restrict network access to allow website browsing only from the LAN attached to interface G0/0 to any external network. ACL 103 allows traffic coming from any address on the 192.168.10.0 network to go to any destination, subject to the limitation that the traffic is using ports 80 (HTTP) and 443 (HTTPS) only.</p>
          <p></p>
          <p>The nature of HTTP requires that traffic flow back into the network from websites accessed from internal clients. The network administrator wants to restrict that return traffic to HTTP exchanges from requested websites, while denying all other traffic. ACL 104 does that by blocking all incoming traffic, except for previously established connections. The permit statement in ACL 104 allows inbound traffic using the <b>established</b> parameter.</p>
          <p></p>
          <p>The <b>established</b> parameter allows only responses to traffic that originates from the 192.168.10.0/24 network to return to that network. A match occurs if the returning TCP segment has the ACK or reset (RST) bits set, which indicates that the packet belongs to an existing connection. Without the <b>established</b> parameter in the ACL statement, clients could send traffic to a web server, but not receive traffic returning from the web server.</p>
        </div>
      </div>
      <div id="text-handle" title="Resize" role="button"></div>
    </div>
    <div id="media-container" role="complementary">
      <iframe id="media" title="interactive graphic" aria-label="interactive graphic" aria-describedby="media-description"></iframe>
      <div id="media-description">Figure one shows the common command syntax and options for an extended A.C.L.  The command needs to be either a permit or deny statement, the protocol, the source and destination addresses, an operator such as equals, and the optional port. Figure two shows an example configuration of an extended A.C.L.  The first command is, access hyphen list 103 permit t.c.p. 192 dot 168 dot 10 dot zero zero dot zero dot zero dot 255 any e.q. 80.  This will block basic web page data.  The next line will allow secure web traffic, and the command is, access hyphen list 103 permit t.c.p. 192 dot 168 dot 10 dot zero zero dot zero dot zero dot 255 any e.q. 443.  The last A.C.L. configuration command creates a new A.C.L. that is an optional command that allows only return data that is responding to an established connection.  The command is, access hyphen list 104 permit t.c.p. 192 dot 168 dot 20 dot zero zero dot zero dot zero dot 255 established.  The first A.C.L. is then applied to the gigabit Ethernet interface that has a network segment, and it is applied in the inbound direction.  This will inspect traffic as it leaves the segment and arrives at the router.  The second A.C.L. is applied to the same interface, but in the outbound direction, therefore examining traffic as it heads toward the network segment.</div>
    </div>
    <div id="login">Please log into <a href="http://netacad.com">netacad.com</a> before accessing this course.</div>
  </body>
</html>
